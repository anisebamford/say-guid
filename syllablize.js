const syllabary = [
"bab",
"bad",
"baf",
"bag",
"bah",
"baj",
"bak",
"bal",
"bam",
"ban",
"bap",
"bar",
"bas",
"bat",
"bav",
"baw",
"bax",
"bay",
"baz",
"beb",
"bed",
"bef",
"beg",
"beh",
"bej",
"bek",
"bel",
"bem",
"ben",
"bep",
"ber",
"bes",
"bet",
"bev",
"bex",
"bee",
"bez",
"bib",
"bid",
"bif",
"big",
"bih",
"bij",
"bik",
"bil",
"bim",
"bin",
"bip",
"bir",
"bis",
"bit",
"biv",
"biw",
"bix",
"biy",
"biz",
"bob",
"bod",
"bof",
"bog",
"boh",
"boj",
"bok",
"bol",
"bom",
"bon",
"bop",
"bor",
"bos",
"bot",
"bov",
"box",
"boy",
"boz",
"bub",
"bud",
"buf",
"bug",
"buh",
"buj",
"buk",
"bul",
"bum",
"bun",
"bup",
"bur",
"bus",
"but",
"buv",
"boo",
"bux",
"buy",
"buz",
"dab",
"dad",
"daf",
"dag",
"dah",
"daj",
"dak",
"dal",
"dam",
"dan",
"dap",
"dar",
"das",
"dat",
"dav",
"daw",
"dax",
"day",
"daz",
"deb",
"ded",
"def",
"deg",
"deh",
"dej",
"dek",
"del",
"dem",
"den",
"dep",
"der",
"des",
"det",
"dev",
"dex",
"dez",
"dib",
"did",
"dif",
"dig",
"dih",
"dij",
"dil",
"dim",
"din",
"dip",
"dir",
"dis",
"dit",
"div",
"dix",
"diy",
"diz",
"dob",
"dod",
"dof",
"dog",
"doh",
"doj",
"dok",
"dol",
"dom",
"don",
"dop",
"dor",
"dos",
"dot",
"dov",
"dox",
"doy",
"doz",
"dub",
"dud",
"duf",
"dug",
"duh",
"duj",
"duk",
"dul",
"dum",
"dun",
"dup",
"dur",
"dus",
"dut",
"duv",
"doo",
"dux",
"duy",
"duz",
"fab",
"fad",
"faf",
"fah",
"faj",
"fak",
"fal",
"fam",
"fan",
"far",
"fas",
"fat",
"fav",
"faw",
"fax",
"fay",
"faz",
"feb",
"fed",
"fef",
"feg",
"feh",
"fej",
"fek",
"fel",
"fem",
"fen",
"fep",
"fer",
"fes",
"fet",
"fev",
"fex",
"fee",
"fez",
"fib",
"fid",
"fif",
"fig",
"fih",
"fij",
"fik",
"fil",
"fim",
"fin",
"fip",
"fis",
"fit",
"fiv",
"fiw",
"fix",
"fiy",
"fiz",
"fob",
"fod",
"fof",
"fog",
"foh",
"foj",
"fok",
"fol",
"fom",
"fon",
"fop",
"for",
"fos",
"fot",
"fov",
"fox",
"foy",
"foz",
"fub",
"fud",
"fuf",
"fug",
"fuh",
"fuj",
"ful",
"fum",
"fun",
"fup",
"fur",
"fus",
"fut",
"fuv",
"foo",
"fuy",
"fuz",
"gab",
"gad",
"gaf",
"gag",
"gah",
"gaj",
"gak",
"gal",
"gam",
"gan",
"gap",
"gar",
"gas",
"gat",
"gav",
"gaw",
"gax",
"gaz",
"geb",
"ged",
"gef",
"geg",
"geh",
"gej",
"gek",
"gem",
"gen",
"gep",
"ger",
"ges",
"get",
"gev",
"gex",
"gez",
"gib",
"gid",
"gig",
"gih",
"gij",
"gik",
"gil",
"gim",
"gin",
"gir",
"gis",
"git",
"giv",
"giw",
"gix",
"giy",
"giz",
"gob",
"god",
"gof",
"gog",
"goh",
"goj",
"gok",
"gol",
"gom",
"gon",
"gop",
"gor",
"gos",
"got",
"gov",
"gox",
"goy",
"goz",
"gub",
"gud",
"guf",
"gug",
"guh",
"guj",
"guk",
"gul",
"gum",
"gun",
"gup",
"gur",
"gus",
"gut",
"guv",
"goo",
"gux",
"guy",
"guz",
"hab",
"had",
"haf",
"hag",
"hah",
"haj",
"hak",
"hal",
"ham",
"han",
"hap",
"har",
"has",
"hat",
"hav",
"haw",
"hax",
"hay",
"haz",
"heb",
"hed",
"hef",
"heg",
"heh",
"hej",
"hek",
"hel",
"hem",
"hen",
"hep",
"her",
"hes",
"het",
"hev",
"hex",
"hee",
"hez",
"hib",
"hid",
"hif",
"hig",
"hih",
"hij",
"hik",
"hil",
"him",
"hin",
"hip",
"hir",
"his",
"hit",
"hiv",
"hiw",
"hix",
"hiy",
"hiz",
"hob",
"hod",
"hof",
"hog",
"hoh",
"hoj",
"hok",
"hol",
"hom",
"hon",
"hop",
"hor",
"hos",
"hot",
"hov",
"hox",
"hoy",
"hoz",
"hub",
"hud",
"huf",
"hug",
"huh",
"huj",
"huk",
"hul",
"hum",
"hun",
"hup",
"hur",
"hus",
"hut",
"huv",
"hoo",
"hux",
"huy",
"huz",
"jab",
"jad",
"jaf",
"jag",
"jah",
"jaj",
"jak",
"jal",
"jam",
"jan",
"jar",
"jas",
"jat",
"jav",
"jaw",
"jax",
"jay",
"jaz",
"jeb",
"jed",
"jef",
"jeg",
"jeh",
"jej",
"jek",
"jel",
"jem",
"jen",
"jep",
"jer",
"jes",
"jet",
"jev",
"jex",
"jee",
"jez",
"jib",
"jid",
"jig",
"jih",
"jij",
"jik",
"jil",
"jim",
"jin",
"jip",
"jir",
"jis",
"jit",
"jiv",
"jix",
"jiy",
"job",
"jod",
"jof",
"jog",
"joh",
"joj",
"jok",
"jol",
"jom",
"jon",
"jop",
"jor",
"jos",
"jot",
"jov",
"jox",
"joy",
"joz",
"jub",
"jud",
"juf",
"jug",
"juh",
"juj",
"juk",
"jul",
"jum",
"jun",
"jup",
"jur",
"jus",
"jut",
"juv",
"jux",
"juy",
"juz",
"kab",
"kad",
"kaf",
"kag",
"kah",
"kaj",
"kak",
"kal",
"kam",
"kan",
"kap",
"kar",
"kas",
"kat",
"kav",
"kaw",
"kax",
"kay",
"kaz",
"keb",
"ked",
"kef",
"keg",
"keh",
"kej",
"kek",
"kel",
"kem",
"ken",
"kep",
"ker",
"kes",
"ket",
"kev",
"kex",
"key",
"kez",
"kib",
"kid",
"kif",
"kig",
"kih",
"kij",
"kik",
"kil",
"kim",
"kin",
"kip",
"kir",
"kis",
"kit",
"kiv",
"kiw",
"kix",
"kiy",
"kiz",
"kob",
"kod",
"kof",
"kog",
"koh",
"koj",
"kol",
"kom",
"kon",
"kop",
"kor",
"kos",
"kot",
"kov",
"koy",
"koz",
"kub",
"kud",
"kuf",
"kug",
"kuh",
"kuj",
"kul",
"kun",
"kup",
"kur",
"kus",
"kut",
"kuv",
"koo",
"kuy",
"kuz",
"lab",
"lad",
"laf",
"lag",
"lah",
"laj",
"lak",
"lal",
"lam",
"lan",
"lap",
"lar",
"las",
"lat",
"lav",
"law",
"lax",
"lay",
"laz",
"leb",
"led",
"lef",
"leg",
"leh",
"lej",
"lek",
"lel",
"lem",
"len",
"lep",
"ler",
"les",
"let",
"lev",
"lex",
"lee",
"lib",
"lid",
"lif",
"lig",
"lih",
"lij",
"lik",
"lil",
"lim",
"lin",
"lip",
"lir",
"lis",
"lit",
"liv",
"liw",
"lix",
"liy",
"liz",
"lob",
"lod",
"lof",
"log",
"loh",
"loj",
"lok",
"lol",
"lom",
"lon",
"lop",
"lor",
"los",
"lot",
"lov",
"lox",
"loy",
"loz",
"lub",
"lud",
"luf",
"lug",
"luh",
"luj",
"luk",
"lul",
"lum",
"lun",
"lup",
"lur",
"lus",
"lut",
"luv",
"loo",
"lux",
"luy",
"luz",
"mab",
"mad",
"maf",
"mag",
"mah",
"maj",
"mak",
"mal",
"mam",
"man",
"map",
"mar",
"mas",
"mat",
"mav",
"maw",
"max",
"may",
"maz",
"meb",
"med",
"mef",
"meg",
"meh",
"mej",
"mek",
"mel",
"mem",
"men",
"mep",
"mer",
"mes",
"met",
"mev",
"mex",
"mee",
"mez",
"mib",
"mid",
"mif",
"mig",
"mih",
"mij",
"mik",
"mil",
"mim",
"min",
"mip",
"mir",
"mis",
"mit",
"miv",
"miw",
"mix",
"miy",
"miz",
"mob",
"mod",
"mof",
"mog",
"moh",
"moj",
"mok",
"mol",
"mom",
"mon",
"mop",
"mor",
"mos",
"mot",
"mov",
"mox",
"moy",
"moz",
"mub",
"mud",
"mug",
"muh",
"muj",
"muk",
"mul",
"mum",
"mun",
"mup",
"mur",
"mus",
"mut",
"muv",
"moo",
"mux",
"muy",
"muz",
"nab",
"nad",
"naf",
"nag",
"nah",
"naj",
"nak",
"nal",
"nam",
"nan",
"nap",
"nar",
"nas",
"nat",
"nav",
"naw",
"nax",
"nay",
"naz",
"neb",
"ned",
"nef",
"neg",
"neh",
"nej",
"nek",
"nel",
"nem",
"nen",
"nep",
"ner",
"nes",
"net",
"nev",
"nex",
"nee",
"nez",
"nib",
"nid",
"nif",
"nih",
"nij",
"nik",
"nil",
"nim",
"nin",
"nir",
"nis",
"nit",
"niv",
"niw",
"nix",
"niy",
"niz",
"nod",
"nof",
"nog",
"noh",
"noj",
"nok",
"nol",
"nom",
"non",
"nop",
"nor",
"nos",
"not",
"nov",
"nox",
"noy",
"noz",
"nub",
"nud",
"nuf",
"nug",
"nuh",
"nuj",
"nuk",
"nul",
"num",
"nun",
"nup",
"nur",
"nus",
"nuv",
"noo",
"nux",
"nuy",
"nuz",
"pab",
"pad",
"paf",
"pag",
"pah",
"paj",
"pak",
"pal",
"pam",
"pan",
"pap",
"par",
"pas",
"pat",
"pav",
"paw",
"pax",
"pay",
"paz",
"peb",
"ped",
"pef",
"peg",
"peh",
"pej",
"pek",
"pel",
"pem",
"pep",
"per",
"pes",
"pet",
"pev",
"pex",
"pez",
"pib",
"pid",
"pif",
"pig",
"pih",
"pij",
"pik",
"pil",
"pim",
"pip",
"pir",
"pit",
"piv",
"piw",
"pix",
"piy",
"piz",
"pob",
"pod",
"pof",
"pog",
"poh",
"poj",
"pok",
"pol",
"pom",
"pon",
"pop",
"por",
"pos",
"pot",
"pov",
"pox",
"poy",
"poz",
"pub",
"pud",
"puf",
"pug",
"puh",
"puj",
"puk",
"pul",
"pum",
"pun",
"pup",
"pur",
"pus",
"put",
"puv",
"poo",
"pux",
"puy",
"puz",
"rab",
"rad",
"raf",
"rag",
"rah",
"raj",
"rak",
"ral",
"ram",
"ran",
"rap",
"rar",
"ras",
"rat",
"rav",
"raw",
"rax",
"ray",
"raz",
"reb",
"red",
"ref",
"reg",
"reh",
"rej",
"rek",
"rel",
"rem",
"ren",
"rep",
"rer",
"res",
"ret",
"rev",
"rex",
"ree",
"rez",
"rib",
"rid",
"rif",
"rig",
"rih",
"rij",
"rik",
"ril",
"rim",
"rin",
"rip",
"rir",
"ris",
"rit",
"riv",
"riw",
"rix",
"riy",
"riz",
"rob",
"rod",
"rof",
"rog",
"roh",
"roj",
"rok",
"rol",
"rom",
"ron",
"rop",
"ror",
"ros",
"rot",
"rov",
"rox",
"roy",
"roz",
"rub",
"rud",
"ruf",
"rug",
"ruh",
"ruj",
"ruk",
"rul",
"rum",
"run",
"rup",
"rur",
"rus",
"rut",
"ruv",
"roo",
"rux",
"ruy",
"ruz",
"sab",
"sad",
"saf",
"sag",
"sah",
"saj",
"sak",
"sal",
"sam",
"san",
"sap",
"sar",
"sas",
"sat",
"sav",
"saw",
"sax",
"say",
"saz",
"seb",
"sed",
"sef",
"seg",
"seh",
"sej",
"sek",
"sel",
"sem",
"sen",
"sep",
"ser",
"ses",
"set",
"sev",
"see",
"sez",
"sib",
"sid",
"sif",
"sig",
"sih",
"sij",
"sik",
"sil",
"sim",
"sin",
"sip",
"sir",
"sis",
"sit",
"siv",
"siw",
"six",
"siy",
"siz",
"sob",
"sod",
"sof",
"sog",
"soh",
"soj",
"sok",
"sol",
"som",
"son",
"sop",
"sor",
"sos",
"sot",
"sov",
"sox",
"soy",
"soz",
"sub",
"sud",
"suf",
"sug",
"suh",
"suj",
"suk",
"sul",
"sum",
"sun",
"sup",
"sur",
"sus",
"sut",
"suv",
"soo",
"sux",
"suy",
"suz",
"tab",
"tad",
"taf",
"tag",
"tah",
"taj",
"tak",
"tal",
"tam",
"tan",
"tap",
"tar",
"tas",
"tat",
"tav",
"taw",
"tax",
"tay",
"taz",
"teb",
"ted",
"tef",
"teg",
"teh",
"tej",
"tek",
"tel",
"tem",
"ten",
"tep",
"ter",
"tes",
"tet",
"tev",
"tex",
"tee",
"tez",
"tib",
"tid",
"tif",
"tig",
"tih",
"tij",
"tik",
"til",
"tim",
"tin",
"tip",
"tir",
"tis",
"tiv",
"tiw",
"tix",
"tiy",
"tiz",
"tob",
"tod",
"tof",
"tog",
"toh",
"toj",
"tok",
"tol",
"tom",
"ton",
"top",
"tor",
"tos",
"tot",
"tov",
"tox",
"toy",
"toz",
"tub",
"tud",
"tuf",
"tug",
"tuh",
"tuj",
"tuk",
"tul",
"tum",
"tun",
"tur",
"tus",
"tut",
"tuv",
"too",
"tux",
"tuy",
"tuz",
"vab",
"vad",
"vaf",
"vah",
"vak",
"val",
"vam",
"van",
"vap",
"var",
"vas",
"vat",
"vav",
"vaw",
"vax",
"vay",
"vaz",
"veb",
"ved",
"vef",
"veg",
"veh",
"vej",
"vek",
"vel",
"vem",
"ven",
"vep",
"ver",
"ves",
"vet",
"vev",
"vue",
"vex",
"vee",
"vez",
"vib",
"vid",
"vif",
"vig",
"vih",
"vij",
"vik",
"vil",
"vim",
"vin",
"vip",
"vir",
"vis",
"vit",
"viv",
"viw",
"vix",
"viy",
"viz",
"vob",
"vod",
"vof",
"vog",
"voh",
"voj",
"vok",
"vol",
"vom",
"von",
"vop",
"vor",
"vos",
"vot",
"vov",
"vox",
"voy",
"voz",
"vub",
"vud",
"vuf",
"vug",
"vuh",
"vuj",
"vuk",
"vul",
"vum",
"vun",
"vup",
"vur",
"vus",
"vut",
"vuv",
"voo",
"vux",
"vuy",
"vuz",
"wab",
"wad",
"waf",
"wag",
"wah",
"waj",
"wak",
"wal",
"wam",
"wan",
"wap",
"war",
"was",
"wat",
"wav",
"waw",
"wax",
"way",
"waz",
"web",
"wed",
"wef",
"weg",
"weh",
"wej",
"wek",
"wel",
"wem",
"wen",
"wep",
"wer",
"wes",
"wet",
"wev",
"wex",
"wee",
"wez",
"wib",
"wid",
"wif",
"wig",
"wih",
"wij",
"wik",
"wil",
"wim",
"win",
"wip",
"wir",
"wis",
"wit",
"wiv",
"wiw",
"wix",
"wiy",
"wiz",
"wob",
"wod",
"wof",
"wog",
"woh",
"woj",
"wok",
"wol",
"wom",
"won",
"wop",
"wor",
"wos",
"wot",
"wov",
"wox",
"woy",
"woz",
"wub",
"wud",
"wuf",
"wug",
"wuh",
"wuj",
"wuk",
"wul",
"wum",
"wun",
"wup",
"wur",
"wus",
"wut",
"wuv",
"woo",
"wux",
"wuy",
"wuz",
"yab",
"yad",
"yaf",
"yag",
"yah",
"yaj",
"yak",
"yal",
"yam",
"yan",
"yap",
"yar",
"yas",
"yat",
"yav",
"yaw",
"yax",
"yay",
"yaz",
"yeb",
"yed",
"yef",
"yeg",
"yeh",
"yej",
"yek",
"yel",
"yem",
"yen",
"yep",
"yer",
"yes",
"yet",
"yev",
"yex",
"yee",
"yez",
"yib",
"yid",
"yif",
"yig",
"yih",
"yij",
"yik",
"yil",
"yim",
"yin",
"yip",
"yir",
"yis",
"yit",
"yiv",
"yiw",
"yix",
"yiy",
"yiz",
"yob",
"yod",
"yof",
"yog",
"yoh",
"yoj",
"yok",
"yol",
"yom",
"yon",
"yop",
"yor",
"yos",
"yot",
"yov",
"yox",
"yoy",
"yoz",
"yub",
"yud",
"yuf",
"yug",
"yuh",
"yuj",
"yuk",
"yul",
"yum",
"yun",
"yup",
"yur",
"yus",
"yut",
"yuv",
"yoo",
"yux",
"yuy",
"yuz",
"zab",
"zad",
"zaf",
"zag",
"zah",
"zaj",
"zak",
"zal",
"zam",
"zan",
"zap",
"zar",
"zas",
"zat",
"zav",
"zaw",
"zax",
"zay",
"zaz",
"zeb",
"zed",
"zef",
"zeg",
"zeh",
"zej",
"zek",
"zel",
"zem",
"zen",
"zep",
"zer",
"zes",
"zet",
"zev",
"zex",
"zee",
"zez",
"zib",
"zid",
"zif",
"zig",
"zih",
"zij",
"zik",
"zil",
"zim",
"zin",
"zip",
"zir",
"zis",
"zit",
"ziv",
"ziw",
"zix",
"ziy",
"ziz",
"zob",
"zod",
"zof",
"zog",
"zoh",
"zoj",
"zok",
"zol",
"zom",
"zon",
"zop",
"zor",
"zos",
"zot",
"zov",
"zox",
"zoy",
"zoz",
"zub",
"zud",
"zuf",
"zug",
"zuh",
"zuj",
"zuk",
"zul",
"zum",
"zun",
"zup",
"zur",
"zus",
"zut",
"zuv",
"zoo",
"zux",
"zuy",
"zuz",
]

const size = BigInt(syllabary.length);

function encode(guid) {
    guid = guid.replace(/-/g, "");
    const encoded = [];
    let value = BigInt("0x" + guid);

    while (value >= size) {
        const bit = value % size;
        value = value / size;
        encoded.unshift(syllabary[Number(bit)]);
    }

    encoded.unshift(syllabary[Number(value)]);

    return encoded.reduce((acc, val, idx) => {
        return acc + val + ([2, 4, 6, 8].includes(idx) ? "-" : "")
    }, "");
}

function decode(word) {
    return word
      .replace(/-/g, "")
      .match(/.{1,3}/g)
      .map(i => BigInt(syllabary.indexOf(i)))
      .reduce((acc, val) => acc * size + val, 0n)
      .toString(16)
      .split("")
      .reduce((acc, val, idx) => {
        return acc + val + ([7, 11, 15, 19].includes(idx) ? "-" : "")
      }, "");
}

module.exports = {encode, decode}